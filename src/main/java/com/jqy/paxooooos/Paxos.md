# Paxos算法
根据CAP理论，一个分布式系统不可能同时达成数据强一致性和可用性。而Paxos在保证强一致性的情况下，最大程度的满足高可用性。即只要2n+1个节点中有n个节点存活即可。

## 角色：

* 提议者：
* 接受者：
* 学习者：

## 算法流程：

第一阶段：选择提议者领袖

第二阶段：有第一阶段的意见领袖提出意见，接受者反馈意见，一旦超过一半的接受者接受了一个提议，则提议通过。

约束：

* P2a:如果某个值为v的提案被选定，则编号更高的被接受的提案的值也必须是v
* P2b：如果某个值为v的提案被选定，之后任何Proposer提出的编号更高的提案的值必须是v。
* P2C：对于任意N，V，如果提案[N,V]被提出，那么存在一个半数以上的Acceptors集合S，满足下面条件的任意一个：
  1. S中每个Acceptor都没有接受过小于N的提案。
  2. S中Acceptor接受过最大编号的提案的值是V

### Proposer生成提案

为了满足P2b，Proposer生提案前应当去学习已经被选定或可能选定的value。除非没有value被选定，Proposer才可以自己决定value的值。这个阶段通过**Prepare请求**实现

#### 提案生成算法：